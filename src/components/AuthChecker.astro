---
---
<div id="auth-checker">
    <div id="loading" style="display: flex; justify-content: center; align-items: center; height: 50vh;">
        Verificando autenticación...
    </div>
    <div id="not-authenticated" style="display: none; text-align: center; padding: 2rem;">
        <h3>Acceso no autorizado</h3>
        <p>Debe iniciar sesión para acceder a esta página.</p>
        <a href="/" style="background: #007bff; color: white; padding: 0.5rem 1rem; text-decoration: none; border-radius: 4px;">Ir al Login</a>
    </div>
</div>

<script>
    // Verificar autenticación sin redirecciones automáticas
    function checkAuth() {
        const session = localStorage.getItem('rkt-session');
        const loading = document.getElementById('loading');
        const notAuth = document.getElementById('not-authenticated');
        const protectedContent = document.getElementById('protected-content');
        
        if (session) {
            // Usuario autenticado - mostrar contenido
            if (loading) loading.style.display = 'none';
            if (protectedContent) protectedContent.style.display = 'block';
        } else {
            // Usuario no autenticado - mostrar mensaje
            if (loading) loading.style.display = 'none';
            if (notAuth) notAuth.style.display = 'block';
        }
    }
    
    // Ejecutar verificación cuando el DOM esté listo
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', checkAuth);
    } else {
        checkAuth();
    }
</script>